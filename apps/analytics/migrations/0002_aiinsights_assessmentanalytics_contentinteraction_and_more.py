# Generated by Django 5.2.4 on 2025-07-12 22:24

import django.core.validators
import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('analytics', '0001_initial'),
        ('assessments', '0001_initial'),
        ('core', '0001_initial'),
        ('courses', '0002_course_category_course_difficulty_level_and_more'),
        ('learning_paths', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AIInsights',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('instructor_id', models.UUIDField(db_index=True)),
                ('key_insights', models.JSONField(blank=True, null=True)),
                ('recommendations', models.JSONField(blank=True, null=True)),
                ('anomalies', models.JSONField(blank=True, null=True)),
                ('confidence_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('ai_model', models.CharField(default='default', max_length=100)),
                ('model_version', models.CharField(default='1.0', max_length=50)),
                ('date', models.DateField(db_index=True)),
            ],
            options={
                'verbose_name': 'AI Insights',
                'verbose_name_plural': 'AI Insights',
                'ordering': ['-date', 'instructor_id'],
            },
        ),
        migrations.CreateModel(
            name='AssessmentAnalytics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('total_attempts', models.PositiveIntegerField(default=0)),
                ('avg_score', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('avg_completion_time', models.DurationField(blank=True, null=True)),
                ('difficulty_score', models.DecimalField(decimal_places=2, default=0, help_text='0-100, higher = more difficult', max_digits=5)),
                ('pass_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('score_distribution', models.JSONField(blank=True, help_text='Score distribution buckets', null=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ContentInteraction',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('content_type', models.CharField(choices=[('video', 'Video'), ('text', 'Text'), ('interactive', 'Interactive'), ('quiz', 'Quiz'), ('assignment', 'Assignment')], max_length=50)),
                ('content_id', models.CharField(help_text='ID of the specific content piece', max_length=255)),
                ('interaction_type', models.CharField(choices=[('view', 'View'), ('play', 'Play'), ('pause', 'Pause'), ('complete', 'Complete'), ('download', 'Download'), ('bookmark', 'Bookmark')], max_length=50)),
                ('duration', models.DurationField(blank=True, null=True)),
                ('completion_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('was_helpful', models.BooleanField(blank=True, null=True)),
                ('difficulty_rating', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CourseAnalytics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('course_id', models.UUIDField(db_index=True)),
                ('instructor_id', models.UUIDField(db_index=True)),
                ('total_enrollments', models.PositiveIntegerField(default=0)),
                ('active_enrollments', models.PositiveIntegerField(default=0)),
                ('completed_enrollments', models.PositiveIntegerField(default=0)),
                ('dropped_enrollments', models.PositiveIntegerField(default=0)),
                ('avg_completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('avg_engagement_score', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('avg_rating', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('total_reviews', models.PositiveIntegerField(default=0)),
                ('total_revenue', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('avg_revenue_per_student', models.DecimalField(decimal_places=2, default=0, max_digits=8)),
                ('total_content_items', models.PositiveIntegerField(default=0)),
                ('avg_content_completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('most_viewed_content', models.JSONField(blank=True, null=True)),
                ('least_viewed_content', models.JSONField(blank=True, null=True)),
                ('total_assessments', models.PositiveIntegerField(default=0)),
                ('avg_assessment_score', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('assessment_completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('discussion_messages', models.PositiveIntegerField(default=0)),
                ('discussion_participants', models.PositiveIntegerField(default=0)),
                ('peer_reviews', models.PositiveIntegerField(default=0)),
                ('collaborative_projects', models.PositiveIntegerField(default=0)),
                ('avg_time_to_complete', models.PositiveIntegerField(default=0)),
                ('avg_study_time_per_week', models.PositiveIntegerField(default=0)),
                ('device_distribution', models.JSONField(blank=True, null=True)),
                ('geographic_distribution', models.JSONField(blank=True, null=True)),
                ('date', models.DateField(db_index=True)),
            ],
            options={
                'verbose_name': 'Course Analytics',
                'verbose_name_plural': 'Course Analytics',
                'ordering': ['-date', 'course_id'],
            },
        ),
        migrations.CreateModel(
            name='CourseCompletion',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('completion_date', models.DateTimeField(blank=True, null=True)),
                ('completion_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('total_time_spent', models.DurationField(blank=True, null=True)),
                ('final_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('certificate_issued', models.BooleanField(default=False)),
                ('certificate_date', models.DateTimeField(blank=True, null=True)),
                ('forum_participation', models.PositiveIntegerField(default=0)),
                ('assignment_submissions', models.PositiveIntegerField(default=0)),
                ('peer_reviews_given', models.PositiveIntegerField(default=0)),
            ],
            options={
                'ordering': ['-completion_date'],
            },
        ),
        migrations.CreateModel(
            name='DeviceUsageAnalytics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('date', models.DateField()),
                ('desktop_users', models.PositiveIntegerField(default=0)),
                ('mobile_users', models.PositiveIntegerField(default=0)),
                ('tablet_users', models.PositiveIntegerField(default=0)),
                ('desktop_session_duration', models.DurationField(blank=True, null=True)),
                ('mobile_session_duration', models.DurationField(blank=True, null=True)),
                ('tablet_session_duration', models.DurationField(blank=True, null=True)),
            ],
            options={
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='EngagementMetrics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('date', models.DateField()),
                ('active_users', models.PositiveIntegerField(default=0)),
                ('session_duration', models.DurationField(help_text='Average session duration')),
                ('page_views', models.PositiveIntegerField(default=0)),
                ('interactions', models.PositiveIntegerField(default=0)),
                ('video_watch_time', models.DurationField(blank=True, null=True)),
                ('quiz_attempts', models.PositiveIntegerField(default=0)),
                ('forum_posts', models.PositiveIntegerField(default=0)),
                ('device_type', models.CharField(choices=[('desktop', 'Desktop'), ('mobile', 'Mobile'), ('tablet', 'Tablet')], default='desktop', max_length=50)),
                ('geographic_region', models.CharField(blank=True, max_length=100)),
            ],
            options={
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='GeographicAnalytics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('region', models.CharField(max_length=100)),
                ('country', models.CharField(blank=True, max_length=100)),
                ('total_students', models.PositiveIntegerField(default=0)),
                ('active_students', models.PositiveIntegerField(default=0)),
                ('total_revenue', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('avg_completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
            ],
            options={
                'ordering': ['-total_students'],
            },
        ),
        migrations.CreateModel(
            name='InstructorAnalytics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('instructor_id', models.UUIDField(db_index=True)),
                ('total_courses', models.PositiveIntegerField(default=0)),
                ('published_courses', models.PositiveIntegerField(default=0)),
                ('draft_courses', models.PositiveIntegerField(default=0)),
                ('total_students', models.PositiveIntegerField(default=0)),
                ('active_students', models.PositiveIntegerField(default=0)),
                ('new_students', models.PositiveIntegerField(default=0)),
                ('avg_course_rating', models.DecimalField(decimal_places=2, default=0, max_digits=3)),
                ('avg_completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('avg_engagement_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('total_revenue', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('monthly_revenue', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('avg_revenue_per_student', models.DecimalField(decimal_places=2, default=0, max_digits=8)),
                ('student_growth_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('revenue_growth_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('date', models.DateField(db_index=True)),
            ],
            options={
                'verbose_name': 'Instructor Analytics',
                'verbose_name_plural': 'Instructor Analytics',
                'ordering': ['-date', 'instructor_id'],
            },
        ),
        migrations.CreateModel(
            name='LearningEfficiency',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('instructor_id', models.UUIDField(db_index=True)),
                ('course_id', models.UUIDField(blank=True, db_index=True, null=True)),
                ('optimal_study_times', models.JSONField(blank=True, null=True)),
                ('content_effectiveness', models.JSONField(blank=True, null=True)),
                ('difficulty_progression', models.JSONField(blank=True, null=True)),
                ('learning_patterns', models.JSONField(blank=True, null=True)),
                ('date', models.DateField(db_index=True)),
            ],
            options={
                'verbose_name': 'Learning Efficiency',
                'verbose_name_plural': 'Learning Efficiency',
                'ordering': ['-date', 'instructor_id'],
            },
        ),
        migrations.CreateModel(
            name='LearningObjectiveProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('objective_title', models.CharField(help_text='Title of the learning objective', max_length=255)),
                ('objective_description', models.TextField(blank=True, help_text='Description of the learning objective')),
                ('mastery_level', models.DecimalField(decimal_places=2, default=0, help_text='Mastery percentage (0-100)', max_digits=5)),
                ('attempts', models.PositiveIntegerField(default=0)),
                ('time_to_mastery', models.DurationField(blank=True, null=True)),
                ('achieved', models.BooleanField(default=False)),
                ('achievement_date', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'ordering': ['-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='LearningPathProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('completion_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('current_step', models.PositiveIntegerField(default=0)),
                ('total_steps', models.PositiveIntegerField(default=0)),
                ('estimated_completion_time', models.DurationField(blank=True, null=True)),
                ('actual_time_spent', models.DurationField(blank=True, null=True)),
                ('status', models.CharField(choices=[('not_started', 'Not Started'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('paused', 'Paused'), ('dropped', 'Dropped')], default='not_started', max_length=20)),
            ],
            options={
                'ordering': ['-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='PredictiveAnalytics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('instructor_id', models.UUIDField(db_index=True)),
                ('students_at_risk', models.JSONField(blank=True, null=True)),
                ('course_recommendations', models.JSONField(blank=True, null=True)),
                ('revenue_forecast', models.JSONField(blank=True, null=True)),
                ('trends_analysis', models.JSONField(blank=True, null=True)),
                ('prediction_confidence', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('model_version', models.CharField(default='1.0', max_length=50)),
                ('prediction_date', models.DateField(db_index=True)),
            ],
            options={
                'verbose_name': 'Predictive Analytics',
                'verbose_name_plural': 'Predictive Analytics',
                'ordering': ['-prediction_date', 'instructor_id'],
            },
        ),
        migrations.CreateModel(
            name='RealTimeMetrics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('instructor_id', models.UUIDField(db_index=True)),
                ('active_users', models.PositiveIntegerField(default=0)),
                ('current_sessions', models.PositiveIntegerField(default=0)),
                ('live_engagement_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('server_health', models.DecimalField(decimal_places=2, default=100, max_digits=5)),
                ('response_time', models.PositiveIntegerField(default=0)),
                ('current_course_views', models.PositiveIntegerField(default=0)),
                ('current_video_watches', models.PositiveIntegerField(default=0)),
                ('current_quiz_attempts', models.PositiveIntegerField(default=0)),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
            ],
            options={
                'verbose_name': 'Real-Time Metrics',
                'verbose_name_plural': 'Real-Time Metrics',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='RevenueAnalytics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('period_start', models.DateField()),
                ('period_end', models.DateField()),
                ('total_revenue', models.DecimalField(decimal_places=2, max_digits=10)),
                ('enrolled_students', models.PositiveIntegerField(default=0)),
                ('revenue_per_student', models.DecimalField(decimal_places=2, max_digits=8)),
                ('predicted_revenue', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('confidence_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
            ],
            options={
                'ordering': ['-period_end'],
            },
        ),
        migrations.CreateModel(
            name='SocialLearningMetrics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('instructor_id', models.UUIDField(db_index=True)),
                ('course_id', models.UUIDField(db_index=True)),
                ('discussion_messages', models.PositiveIntegerField(default=0)),
                ('discussion_participants', models.PositiveIntegerField(default=0)),
                ('discussion_threads', models.PositiveIntegerField(default=0)),
                ('peer_reviews_submitted', models.PositiveIntegerField(default=0)),
                ('peer_reviews_received', models.PositiveIntegerField(default=0)),
                ('avg_peer_review_rating', models.DecimalField(decimal_places=2, default=0, max_digits=3)),
                ('collaborative_projects', models.PositiveIntegerField(default=0)),
                ('project_participants', models.PositiveIntegerField(default=0)),
                ('avg_project_completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('study_groups', models.PositiveIntegerField(default=0)),
                ('peer_help_requests', models.PositiveIntegerField(default=0)),
                ('peer_help_responses', models.PositiveIntegerField(default=0)),
                ('date', models.DateField(db_index=True)),
            ],
            options={
                'verbose_name': 'Social Learning Metrics',
                'verbose_name_plural': 'Social Learning Metrics',
                'ordering': ['-date', 'instructor_id'],
            },
        ),
        migrations.CreateModel(
            name='StudentEngagementMetric',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('course_id', models.UUIDField(db_index=True)),
                ('daily_active_time', models.PositiveIntegerField(default=0)),
                ('weekly_active_time', models.PositiveIntegerField(default=0)),
                ('monthly_active_time', models.PositiveIntegerField(default=0)),
                ('content_views', models.PositiveIntegerField(default=0)),
                ('video_watches', models.PositiveIntegerField(default=0)),
                ('quiz_attempts', models.PositiveIntegerField(default=0)),
                ('discussion_posts', models.PositiveIntegerField(default=0)),
                ('assignments_submitted', models.PositiveIntegerField(default=0)),
                ('avg_quiz_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('completion_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('session_count', models.PositiveIntegerField(default=0)),
                ('avg_session_duration', models.PositiveIntegerField(default=0)),
                ('last_activity_date', models.DateTimeField(blank=True, null=True)),
                ('risk_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('risk_factors', models.JSONField(blank=True, help_text='List of risk factors as JSON array', null=True)),
                ('preferred_learning_time', models.CharField(blank=True, max_length=20, null=True)),
                ('preferred_device', models.CharField(blank=True, max_length=20, null=True)),
                ('preferred_content_type', models.CharField(blank=True, max_length=50, null=True)),
                ('date', models.DateField(db_index=True)),
            ],
            options={
                'verbose_name': 'Student Engagement Metric',
                'verbose_name_plural': 'Student Engagement Metrics',
                'ordering': ['-date', 'user'],
            },
        ),
        migrations.CreateModel(
            name='StudentPerformance',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('score', models.DecimalField(decimal_places=2, help_text='Score achieved (0-100)', max_digits=5)),
                ('completion_rate', models.DecimalField(decimal_places=2, default=0, help_text='Percentage of course completed', max_digits=5)),
                ('time_spent', models.DurationField(help_text='Total time spent on course/assessment')),
                ('completion_time', models.DurationField(blank=True, help_text='Time taken to complete', null=True)),
                ('attempts', models.PositiveIntegerField(default=1, help_text='Number of attempts')),
                ('last_activity', models.DateTimeField(auto_now=True)),
                ('risk_score', models.DecimalField(decimal_places=2, default=0, help_text='Risk score (0-100)', max_digits=5)),
                ('risk_factors', models.JSONField(default=list, help_text='List of risk factors')),
            ],
            options={
                'ordering': ['-last_activity'],
            },
        ),
        migrations.AddField(
            model_name='event',
            name='browser',
            field=models.CharField(blank=True, max_length=50, null=True),
        ),
        migrations.AddField(
            model_name='event',
            name='country',
            field=models.CharField(blank=True, max_length=100, null=True),
        ),
        migrations.AddField(
            model_name='event',
            name='device_type',
            field=models.CharField(blank=True, max_length=20, null=True),
        ),
        migrations.AddField(
            model_name='event',
            name='os',
            field=models.CharField(blank=True, max_length=50, null=True),
        ),
        migrations.AddField(
            model_name='event',
            name='region',
            field=models.CharField(blank=True, max_length=100, null=True),
        ),
        migrations.AddField(
            model_name='event',
            name='user_agent',
            field=models.TextField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='dashboard',
            name='layout_config',
            field=models.JSONField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='event',
            name='context_data',
            field=models.JSONField(blank=True, null=True),
        ),
        migrations.AlterField(
            model_name='event',
            name='event_type',
            field=models.CharField(choices=[('USER_LOGIN', 'User Login'), ('USER_LOGOUT', 'User Logout'), ('USER_REGISTER', 'User Registration'), ('COURSE_VIEW', 'Course Viewed'), ('COURSE_ENROLL', 'Course Enrollment'), ('COURSE_COMPLETE', 'Course Completion'), ('MODULE_VIEW', 'Module Viewed'), ('CONTENT_VIEW', 'Content Item Viewed'), ('CONTENT_COMPLETE', 'Content Item Completion'), ('ASSESSMENT_START', 'Assessment Started'), ('ASSESSMENT_SUBMIT', 'Assessment Submitted'), ('ASSESSMENT_PASS', 'Assessment Passed'), ('ASSESSMENT_FAIL', 'Assessment Failed'), ('FILE_DOWNLOAD', 'File Downloaded'), ('CERTIFICATE_VIEW', 'Certificate Viewed'), ('DISCUSSION_POST', 'Discussion Post Created'), ('DISCUSSION_REPLY', 'Discussion Reply Created'), ('PEER_REVIEW_SUBMIT', 'Peer Review Submitted'), ('VIDEO_WATCH', 'Video Watched'), ('VIDEO_COMPLETE', 'Video Completed'), ('QUIZ_ATTEMPT', 'Quiz Attempted'), ('ASSIGNMENT_SUBMIT', 'Assignment Submitted'), ('SEARCH_QUERY', 'Search Query'), ('PAGE_VIEW', 'Page View'), ('SESSION_START', 'Session Started'), ('SESSION_END', 'Session Ended')], db_index=True, max_length=50),
        ),
        migrations.AlterField(
            model_name='report',
            name='config',
            field=models.JSONField(blank=True, help_text='Configuration for generating the report', null=True),
        ),
        migrations.AddIndex(
            model_name='event',
            index=models.Index(fields=['device_type', 'created_at'], name='analytics_e_device__266d39_idx'),
        ),
        migrations.AddIndex(
            model_name='event',
            index=models.Index(fields=['country', 'created_at'], name='analytics_e_country_b5dc35_idx'),
        ),
        migrations.AddField(
            model_name='aiinsights',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ai_insights', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='assessmentanalytics',
            name='assessment',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analytics', to='assessments.assessment'),
        ),
        migrations.AddField(
            model_name='assessmentanalytics',
            name='course',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assessment_analytics', to='courses.course'),
        ),
        migrations.AddField(
            model_name='assessmentanalytics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assessment_analytics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='contentinteraction',
            name='course',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_interactions', to='courses.course'),
        ),
        migrations.AddField(
            model_name='contentinteraction',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_interactions', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='contentinteraction',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_interactions', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='courseanalytics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='course_analytics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='coursecompletion',
            name='course',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='completions', to='courses.course'),
        ),
        migrations.AddField(
            model_name='coursecompletion',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='course_completions', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='coursecompletion',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='course_completions', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='deviceusageanalytics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='device_usage_analytics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='engagementmetrics',
            name='course',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detailed_engagement_metrics', to='courses.course'),
        ),
        migrations.AddField(
            model_name='engagementmetrics',
            name='student',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='detailed_engagement_metrics', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='engagementmetrics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detailed_engagement_metrics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='geographicanalytics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='geographic_analytics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='instructoranalytics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='instructor_analytics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='learningefficiency',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='learning_efficiency', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='learningobjectiveprogress',
            name='course',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='learning_objective_progress', to='courses.course'),
        ),
        migrations.AddField(
            model_name='learningobjectiveprogress',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='learning_objective_progress', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='learningobjectiveprogress',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='learning_objective_progress', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='learningpathprogress',
            name='learning_path',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progress_records', to='learning_paths.learningpath'),
        ),
        migrations.AddField(
            model_name='learningpathprogress',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='learning_path_progress', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='learningpathprogress',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='learning_path_progress', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='predictiveanalytics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='predictive_analytics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='realtimemetrics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='realtime_metrics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='revenueanalytics',
            name='course',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='revenue_analytics', to='courses.course'),
        ),
        migrations.AddField(
            model_name='revenueanalytics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='revenue_analytics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='sociallearningmetrics',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='social_learning_metrics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='studentengagementmetric',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='engagement_metrics', to='core.tenant'),
        ),
        migrations.AddField(
            model_name='studentengagementmetric',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='engagement_metrics', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='studentperformance',
            name='assessment',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='student_performances', to='assessments.assessment'),
        ),
        migrations.AddField(
            model_name='studentperformance',
            name='course',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_performances', to='courses.course'),
        ),
        migrations.AddField(
            model_name='studentperformance',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='performance_records', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='studentperformance',
            name='tenant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_performances', to='core.tenant'),
        ),
        migrations.AlterUniqueTogether(
            name='aiinsights',
            unique_together={('tenant', 'instructor_id', 'date')},
        ),
        migrations.AlterUniqueTogether(
            name='assessmentanalytics',
            unique_together={('assessment', 'tenant')},
        ),
        migrations.AddIndex(
            model_name='contentinteraction',
            index=models.Index(fields=['student', 'course'], name='analytics_c_student_d8fb09_idx'),
        ),
        migrations.AddIndex(
            model_name='contentinteraction',
            index=models.Index(fields=['content_type', 'interaction_type'], name='analytics_c_content_11a2af_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='courseanalytics',
            unique_together={('tenant', 'course_id', 'date')},
        ),
        migrations.AlterUniqueTogether(
            name='coursecompletion',
            unique_together={('student', 'course')},
        ),
        migrations.AlterUniqueTogether(
            name='deviceusageanalytics',
            unique_together={('tenant', 'date')},
        ),
        migrations.AlterUniqueTogether(
            name='engagementmetrics',
            unique_together={('student', 'course', 'date')},
        ),
        migrations.AlterUniqueTogether(
            name='geographicanalytics',
            unique_together={('tenant', 'region')},
        ),
        migrations.AlterUniqueTogether(
            name='instructoranalytics',
            unique_together={('tenant', 'instructor_id', 'date')},
        ),
        migrations.AlterUniqueTogether(
            name='learningefficiency',
            unique_together={('tenant', 'instructor_id', 'course_id', 'date')},
        ),
        migrations.AlterUniqueTogether(
            name='learningobjectiveprogress',
            unique_together={('student', 'course', 'objective_title')},
        ),
        migrations.AlterUniqueTogether(
            name='learningpathprogress',
            unique_together={('student', 'learning_path')},
        ),
        migrations.AlterUniqueTogether(
            name='predictiveanalytics',
            unique_together={('tenant', 'instructor_id', 'prediction_date')},
        ),
        migrations.AlterUniqueTogether(
            name='revenueanalytics',
            unique_together={('course', 'period_start', 'period_end')},
        ),
        migrations.AlterUniqueTogether(
            name='sociallearningmetrics',
            unique_together={('tenant', 'instructor_id', 'course_id', 'date')},
        ),
        migrations.AlterUniqueTogether(
            name='studentengagementmetric',
            unique_together={('tenant', 'user', 'course_id', 'date')},
        ),
        migrations.AddIndex(
            model_name='studentperformance',
            index=models.Index(fields=['student', 'course'], name='analytics_s_student_6f1480_idx'),
        ),
        migrations.AddIndex(
            model_name='studentperformance',
            index=models.Index(fields=['risk_score'], name='analytics_s_risk_sc_b5f046_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='studentperformance',
            unique_together={('student', 'course', 'assessment')},
        ),
    ]
